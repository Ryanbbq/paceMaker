<script>
    function checkUsername() {
        if( $("#username").val() == "") {
            $("#available").html("");
            return;
        }
        $.ajax({
            type: "get",
            url: "",
            dataType: "json",
            data: { "username": $("#username").val() },
            success: function(data,status) {
                //alert("??");
                if(data) {
                   //alert("username unavailable!");
                   $("#available").html(" Unavailable");
                   $("#available").css("color", "red");
                   //return false;
                }
                else {
                    //alert("username available");
                    $("#available").html(" Available");
                    $("#available").css("color", "green");
                }
              },
              complete: function(data,status) { //optional, used for debugging purposes
                  //alert(status);
              }
        });
    }
    function passwordMatch() {
        var match = $("#confirmPass").val();
        if(match == "") {
            $("#pwMatchError").html("");
            return false;
        }
        $("#pwMatchError").html("");
        if(match != $("#password").val()) {
            $("#pwMatchError").html("Password does not match");
            $("#pwMatchError").css("color", "red");
            return false;
        }
        return true;
    }
    
    function validateForm(){
        //checkUsername();
        if ($("#available").html() == "" || $("#available").html() == " Unavailable"){
            $("#incomplete").html("Form is incomplete");
            $("#incomplete").css("color", "red"); 
            return false;
        }
        else if($("#firstName").val() == "") { 
            $("#incomplete").html("Form is incomplete");
            $("#incomplete").css("color", "red"); 
            return false;
        }
        else if($("#lastName").val() == "") {
            $("#incomplete").html("Form is incomplete");
            $("#incomplete").css("color", "red"); 
            return false;
        }
        else if($("#email").val() == "") {
            $("#incomplete").html("Form is incomplete");
            $("#incomplete").css("color", "red"); 
            return false;
        }
        else if(!passwordMatch()) {
            $("#incomplete").html("Form is incomplete");
            $("#incomplete").css("color", "red"); 
            return false;
        }
        else {
            return true;
        }
    }
</script>